###########################
# French Events
###########################

add_namespace = france

# Japan demands Indochina
country_event = {
	id = france.1
	title = france.1.t
	desc = france.1.d
	picture = GFX_report_event_japan_army_mountainside

	is_triggered_only = yes

	option = { # Accept demands
		name = france.1.a
		ai_chance = {
			factor = 25
			modifier = {
				factor = 50
				has_war = yes
				any_enemy_country = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.4
					}
				}
			}
			modifier = {
				factor = 75
				16 = { NOT = { is_controlled_by = FRA } } #Paris
			}
		}
		JAP = {
			country_event = { days = 5 id = japan.6 }
		}
	}
}

# Maginot Line Extension
country_event = {
	id = france.2
	title = france.2.t
	desc = france.2.d
	picture = GFX_report_event_bunker_01

	is_triggered_only = yes

	option = {
		name = france.2.a
		18 = {
			add_building_construction = {
				type = bunker
				province = 5291
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 3560
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 9472
				level = 2
				instant_build = yes
			}
		}
		29 = {
			add_building_construction = {
				type = bunker
				province = 3447
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 11606
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 11483
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 575
				level = 2
				instant_build = yes
			}
		}
	}
}

# Alpine Line Extension
country_event = {
	id = france.3
	title = france.3.t
	desc = france.3.d
	picture = GFX_report_event_bunker_01

	is_triggered_only = yes

	option = {
		name = france.3.a
		735 = {
			add_building_construction = {
				type = bunker
				province = 764
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 9909
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 3959
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 6975
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 3764
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 9745
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 778
				level = 2
				instant_build = yes
			}
		}
	}
}

### The Fall of France

# The Battle is Lost
country_event = {
	id = france.10
	title = france.10.t
	desc = france.10.d
	picture = GFX_report_event_german_parade_paris

	fire_only_once = yes

	trigger = {
		tag = FRA
		has_war_with = GER
		16 = { is_controlled_by = GER }
		is_in_faction_with = ENG
		ENG = { has_war_with = GER }
		has_capitulated = yes
		GER = { is_faction_leader = yes }
		NOT = { has_civil_war = yes }
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		set_global_flag = achievement_france_surrender
		set_global_flag = fall_of_france
		GER = { country_event = france.14 }
	}


	option = { # Become Free French
		name = france.10.b
		ai_chance = {
			factor = 85
		}
		custom_effect_tooltip = france.10.b_tt
	}
}

# France wants Armistice (Germany)
country_event = {
	id = france.14
	title = france.14.t
	desc = france.14.d
	picture = GFX_report_event_german_parade_paris

	is_triggered_only = yes

	option = { # Agree
		name = france.14.a
		ai_chance = {
			factor = 100
		}
		# German Occupation
		set_state_controller = 28
		set_state_controller = 17
		set_state_controller = 27
		set_state_controller = 18
		set_state_controller = 29
		set_state_controller = 15
		set_state_controller = 16
		set_state_controller = 24
		set_state_controller = 30
		set_state_controller = 14
		set_state_controller = 23
		set_state_controller = 19
		# Italian Occupation Zone (if they did well)
		ITA = { transfer_state = 735 }
  	ITA = { transfer_state = 21 }
		ITA = { transfer_state = 32 }
		ITA = { transfer_state = 1 }

		FRA = {
			destroy_ships = {
				type = ship_hull_light
				count = all
			}
			destroy_ships = {
				type = ship_hull_cruiser
				count = all
			}
			destroy_ships = {
				type = ship_hull_heavy
				count = all
			}
			destroy_ships = {
				type = ship_hull_carrier
				count = all
			}
			destroy_ships = {
				type = ship_hull_submarine
				count = all
			}
			start_civil_war = {
				ideology = fascism
				size = 0.9
				capital = 713
				states = { 713 32 21}
			}
			set_stability = 0.5
			set_war_support = 0.5
			remove_ideas = { FRA_political_violence }
      remove_ideas = { FRA_worker_shortage }
      remove_ideas = { FRA_full_employment }
      remove_ideas = { FRA_inefficient_economy_2 }
      remove_ideas = { FRA_inefficient_economy_1 }
			##add checks if general exists
			if = {
				limit = {
					has_unit_leader = 801
				}
			remove_unit_leader = 801
		}
		if = {
			limit = {
				has_unit_leader = 802
			}
			remove_unit_leader = 802
		}
		if = {
			limit = {
				has_unit_leader = 803
			}
			remove_unit_leader = 803
		}
		if = {
			limit = {
				has_unit_leader = 804
			}
			remove_unit_leader = 804
		}
		if = {
			limit = {
				has_unit_leader = 805
			}
			remove_unit_leader = 805
		}
		if = {
			limit = {
				has_unit_leader = 806
			}
			remove_unit_leader = 806
		}
		if = {
			limit = {
				has_unit_leader = 807
			}
			remove_unit_leader = 807
		}
			#remove_unit_leader = 808 #René-Émile Godfroy
			if = {
				limit = {
					has_unit_leader = 809
				}
			remove_unit_leader = 809
		}
			add_ideas = FRA_FREE_army_4
			add_ideas = FRA_exile_government_4
			set_cosmetic_tag = FRA_FREE
		#	create_corps_commander = {
		#		name = "Charles De Gaulle"
	#			picture = "Portrait_France_Charles_De_Gaulle.dds"
	#			traits = { panzer_leader harsh_leader organizer }
	#			skill = 4
#				attack_skill = 4
#				defense_skill = 3
#				planning_skill = 3
#				logistics_skill = 4
#			}
			create_corps_commander = {
				name = "Marie-Pierre Koenig"
				picture = "Portrait_France_Marie_Pierre_Koenig.dds"
				traits = { trickster organizer infantry_leader }
				skill = 2
				attack_skill = 2
				defense_skill = 3
				planning_skill = 3
				logistics_skill = 2
			}
	#		create_corps_commander = {
	#			name = "Edgard de Larminat"
	#			picture = "Edgard_de_Larminat.dds"
	#			traits = { desert_fox infantry_leader harsh_leader exiled_leader }
	#			skill = 3
	#			attack_skill = 3
	#			defense_skill = 2
	#			planning_skill = 1
	#			logistics_skill = 3
	#		}
			create_navy_leader = {
				name = "Émile Muselier"
				picture = "Portrait_France_Emile_Muselier.dds"
				traits = { spotter }
				skill = 3
			}
		#	create_corps_commander = {
		#		name = "Darth Sithben"
		#		picture = "Sithben_General_1.dds"
		#		traits = { old_guard cavalry_leader commando exiled_leader }
		#		id = 2000
		#		skill = 9
		#		attack_skill = 6
		#		defense_skill = 1
		#		planning_skill = 5
		#		logistics_skill = 3
		#	}
		load_focus_tree = free_french_focus
			set_country_flag = free_france
			hidden_effect = {
				set_state_controller = 26
				set_state_controller = 22
				set_state_controller = 25
				set_state_controller = 20
				set_state_controller = 33
				set_state_controller = 677
				set_state_controller = 680
				set_state_controller = 554
				set_state_controller = 458
				ENG = {
					transfer_state = 539
					transfer_state = 660
					transfer_state = 774
					puppet = FRA
				}
				AST = {
					transfer_state = 635
				}

				if = {
					limit = { 1 = { owner = { original_tag = FRA } } }
					set_state_controller = 1
				}
				if = {
					limit = { 32 = { owner = { original_tag = FRA } } }
					set_state_controller = 32
				}
				if = {
					limit = { 21 = { owner = { original_tag = FRA } } }
					set_state_controller = 21
				}
				if = {
					limit = { 31 = { owner = { original_tag = FRA } } }
					set_state_controller = 31
				}
			}
		}
		random_other_country = {
			limit = { original_tag = FRA has_government = fascism }
			EFR = {
				annex_country = { target = PREV transfer_troops = no }
			}
		}
		random_other_country = {
			limit = { original_tag = EFR has_government = fascism }
			# ROOT = { puppet = PREV }

			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}


            set_popularities = {
                democratic = 18
                fascism = 70
                communism = 2
                neutrality = 10
            }


			# FRA Player Switches to Vichy
			if = {
				limit = { FRA = { has_country_flag = become_vichy } }
				change_tag_from = FRA
			}

		}


		EFR = {
			#Europe
			if = {
				limit = { FRA = { owns_state = 1 } }
				transfer_state = 1
			}
			if = {
				limit = { FRA = { owns_state = 32 } }
				transfer_state = 32
			}
			if = {
				limit = { FRA = { owns_state = 21 } }
				transfer_state = 21
			}
			transfer_state = 20
			transfer_state = 22
			transfer_state = 25
			transfer_state = 26
			transfer_state = 31
			transfer_state = 33

			#North Africa
			transfer_state = 458
			transfer_state = 459
			transfer_state = 460
			transfer_state = 461
			transfer_state = 462
			transfer_state = 514
			transfer_state = 665
			transfer_state = 513
			transfer_state = 515

			#Syria
			transfer_state = 553
			transfer_state = 677
			transfer_state = 554
			transfer_state = 680

			#West Africa
			transfer_state = 557
			transfer_state = 272
			transfer_state = 298

			#Indochina
			transfer_state = 741
			transfer_state = 671
			transfer_state = 670
			transfer_state = 556
			transfer_state = 286

			#Madagascar
			transfer_state = 543
			transfer_state = 708
			transfer_state = 706

			transfer_state = 268 #Somaliland
			transfer_state = 713 #Kerguelen
			transfer_state = 730 #St Pierre

			#Caribbean
			transfer_state = 310 #Guyana
			transfer_state = 694 #French Caribbean

			set_capital = 26
			add_ideas = idea_EFR_neutrality
			diplomatic_relation = { country = ENG relation = non_aggression_pact }
			diplomatic_relation = { country = USA relation = non_aggression_pact }
			diplomatic_relation = { country = PHI relation = non_aggression_pact }
			diplomatic_relation = { country = FRA relation = non_aggression_pact }
			diplomatic_relation = { country = SAF relation = non_aggression_pact }
			diplomatic_relation = { country = CAN relation = non_aggression_pact }
			diplomatic_relation = { country = RAJ relation = non_aggression_pact }
			diplomatic_relation = { country = AST relation = non_aggression_pact }
			diplomatic_relation = { country = NZL relation = non_aggression_pact }
			diplomatic_relation = { country = BRA relation = non_aggression_pact }
			diplomatic_relation = { country = GER relation = non_aggression_pact }
			create_corps_commander = {
				name = "Henri Dentz"
				picture = "Portrait_France_Generic_land_3.dds" ##looks like the generic portrait is really him
				traits = { }
				skill = 1
			}
			every_state = {
				limit = {
					is_core_of = FRA
					is_controlled_by = EFR
				}
				add_core_of = EFR
			}
			every_state = {
				limit = {
					NOT = {
						is_core_of = FRA
					}
					is_controlled_by = EFR
				}
				add_claim_by  = FRA
			}
			28 = {
				remove_core_of = EFR
			}
			if = { ### send rifles (minus 200) to germany the rest will be used in the armistice army.
				limit = { has_equipment = { infantry_equipment > 25000 } }
				send_equipment = {
					target = GER
					type = infantry_equipment
					amount = 23500
				}
				else = {
					if = {
						limit = { has_equipment = { infantry_equipment > 23500 } }
						send_equipment = {
							target = GER
							type = infantry_equipment
							amount = 22000
						}

						else = {
							if = {
								limit = { has_equipment = { infantry_equipment > 20500 } }
								send_equipment = {
									target = GER
									type = infantry_equipment
									amount = 19000
								}


								else = {
									if = {
										limit = { has_equipment = { infantry_equipment > 19000 } }
										send_equipment = {
											target = GER
											type = infantry_equipment
											amount = 17500
										}

										else = {
											if = {
												limit = { has_equipment = { infantry_equipment > 17500 } }
												send_equipment = {
													target = GER
													type = infantry_equipment
													amount = 15000
												}

												else = {
													if = {
														limit = { has_equipment = { infantry_equipment > 13500 } }
														send_equipment = {
															target = GER
															type = infantry_equipment
															amount = 12000
														}

														else = {
															if = {
																limit = { has_equipment = { infantry_equipment > 12000 } }
																send_equipment = {
																	target = GER
																	type = infantry_equipment
																	amount = 10500
																}

																else = {
																	if = {
																		limit = { has_equipment = { infantry_equipment > 10500 } }
																		send_equipment = {
																			target = GER
																			type = infantry_equipment
																			amount = 9000
																		}

																		else = {
																			if = {
																				limit = { has_equipment = { infantry_equipment > 9000 } }
																				send_equipment = {
																					target = GER
																					type = infantry_equipment
																					amount = 7500
																				}

																				else = {
																					if = {
																						limit = { has_equipment = { infantry_equipment > 7500 } }
																						send_equipment = {
																							target = GER
																							type = infantry_equipment
																							amount = 6000
																						}

																						else = {
																							if = {
																								limit = { has_equipment = { infantry_equipment > 6000 } }
																								send_equipment = {
																									target = GER
																									type = infantry_equipment
																									amount = 4500
																								}

																								else = {
																									if = {
																										limit = { has_equipment = { infantry_equipment > 4500 } }
																										send_equipment = {
																											target = GER
																											type = infantry_equipment
																											amount = 3000
																										}

																										else = {
																											if = {
																												limit = { has_equipment = { infantry_equipment > 3000 } }
																												send_equipment = {
																													target = GER
																													type = infantry_equipment
																													amount = 1500
																												}

																												else = {
																													if = {
																														limit = { has_equipment = { infantry_equipment > 1500 } }
																														send_equipment = {
																															target = GER
																															type = infantry_equipment
																															amount = 500
																														}

																														else = {
																															if = {
																																limit = { has_equipment = { infantry_equipment > 1000 } }
																																send_equipment = {
																																	target = GER
																																	type = infantry_equipment
																																		amount = 350
																																}
																																else = {
																																	if = {
																																		limit = { has_equipment = { infantry_equipment > 500 } }
																																		send_equipment = {
																																			target = GER
																																			type = infantry_equipment
																																			amount = 250
																																		}
																																	}
																																}
																															}
																														}
																													}
																												}
																											}
																										}
																									}
																								}
																							}
																						}
																					}
																				}
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			if = { ### send rifles (minus 200) to germany the rest will be used in the armistice army.
				limit = { has_equipment = { support_equipment > 3000 } }
				send_equipment = {
					target = GER
					type = support_equipment
					amount = 2800
				}
				else = {
					if = {
						limit = { has_equipment = { support_equipment > 2800 } }
						send_equipment = {
							target = GER
							type = support_equipment
							amount = 2600
						}

						else = {
							if = {
								limit = { has_equipment = { support_equipment > 2600 } }
								send_equipment = {
									target = GER
									type = support_equipment
									amount = 2400
								}


								else = {
									if = {
										limit = { has_equipment = { support_equipment > 2400 } }
										send_equipment = {
											target = GER
											type = support_equipment
											amount = 2200
										}

										else = {
											if = {
												limit = { has_equipment = { support_equipment > 2200 } }
												send_equipment = {
													target = GER
													type = support_equipment
													amount = 2000
												}

												else = {
													if = {
														limit = { has_equipment = { support_equipment > 2000 } }
														send_equipment = {
															target = GER
															type = support_equipment
															amount = 1800
														}

														else = {
															if = {
																limit = { has_equipment = { support_equipment > 1800 } }
																send_equipment = {
																	target = GER
																	type = support_equipment
																	amount = 1600
																}

																else = {
																	if = {
																		limit = { has_equipment = { support_equipment > 1600 } }
																		send_equipment = {
																			target = GER
																			type = support_equipment
																			amount = 1400
																		}

																		else = {
																			if = {
																				limit = { has_equipment = { support_equipment > 1400 } }
																				send_equipment = {
																					target = GER
																					type = support_equipment
																					amount = 1200
																				}

																				else = {
																					if = {
																						limit = { has_equipment = { support_equipment > 1200 } }
																						send_equipment = {
																							target = GER
																							type = support_equipment
																							amount = 1000
																						}

																						else = {
																							if = {
																								limit = { has_equipment = { support_equipment > 1000 } }
																								send_equipment = {
																									target = GER
																									type = support_equipment
																									amount = 800
																								}

																								else = {
																									if = {
																										limit = { has_equipment = { support_equipment > 800 } }
																										send_equipment = {
																											target = GER
																											type = support_equipment
																											amount = 600
																										}

																										else = {
																											if = {
																												limit = { has_equipment = { support_equipment > 600 } }
																												send_equipment = {
																													target = GER
																													type = support_equipment
																													amount = 400
																												}

																												else = {
																													if = {
																														limit = { has_equipment = { support_equipment > 400 } }
																														send_equipment = {
																															target = GER
																															type = support_equipment
																															amount = 200
																														}

																														else = {
																															if = {
																																limit = { has_equipment = { support_equipment > 150 } }
																																send_equipment = {
																																	target = GER
																																	type = support_equipment
																																		amount = 50
																																}
																																else = {
																																	if = {
																																		limit = { has_equipment = { support_equipment > 100 } }
																																		send_equipment = {
																																			target = GER
																																			type = support_equipment
																																			amount = 25
																																		}
																																	}
																																}
																															}
																														}
																													}
																												}
																											}
																										}
																									}
																								}
																							}
																						}
																					}
																				}
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			if = { ### send rifles (minus 200) to germany the rest will be used in the armistice army.
				limit = { has_equipment = { light_tank_equipment > 3000 } }
				send_equipment = {
					target = GER
					type = light_tank_equipment
					amount = 2800
				}
				else = {
					if = {
						limit = { has_equipment = { light_tank_equipment > 2800 } }
						send_equipment = {
							target = GER
							type = light_tank_equipment
							amount = 2600
						}

							else = {
								if = {
									limit = { has_equipment = { light_tank_equipment > 2600 } }
									send_equipment = {
										target = GER
										type = light_tank_equipment
										amount = 2400
									}


								else = {
									if = {
										limit = { has_equipment = { light_tank_equipment > 2400 } }
										send_equipment = {
											target = GER
											type = light_tank_equipment
											amount = 2200
										}

										else = {
											if = {
												limit = { has_equipment = { light_tank_equipment > 2200 } }
												send_equipment = {
													target = GER
													type = light_tank_equipment
													amount = 2000
												}

												else = {
													if = {
														limit = { has_equipment = { light_tank_equipment > 2000 } }
														send_equipment = {
															target = GER
															type = light_tank_equipment
															amount = 1800
														}

														else = {
															if = {
																limit = { has_equipment = { light_tank_equipment > 1800 } }
																send_equipment = {
																	target = GER
																	type = light_tank_equipment
																	amount = 1600
																}

																else = {
																	if = {
																		limit = { has_equipment = { light_tank_equipment > 1600 } }
																		send_equipment = {
																			target = GER
																			type = light_tank_equipment
																			amount = 1400
																		}

																		else = {
																			if = {
																				limit = { has_equipment = { light_tank_equipment > 1400 } }
																				send_equipment = {
																					target = GER
																					type = light_tank_equipment
																					amount = 1200
																				}

																				else = {
																					if = {
																						limit = { has_equipment = { light_tank_equipment > 1200 } }
																						send_equipment = {
																							target = GER
																							type = light_tank_equipment
																							amount = 1000
																						}

																						else = {
																							if = {
																								limit = { has_equipment = { light_tank_equipment > 1000 } }
																								send_equipment = {
																									target = GER
																									type = light_tank_equipment
																									amount = 800
																								}

																								else = {
																									if = {
																										limit = { has_equipment = { light_tank_equipment > 800 } }
																										send_equipment = {
																											target = GER
																											type = light_tank_equipment
																											amount = 600
																										}

																										else = {
																											if = {
																												limit = { has_equipment = { light_tank_equipment > 600 } }
																												send_equipment = {
																													target = GER
																													type = light_tank_equipment
																													amount = 400
																												}

																												else = {
																													if = {
																														limit = { has_equipment = { light_tank_equipment > 400 } }
																														send_equipment = {
																															target = GER
																															type = light_tank_equipment
																															amount = 200
																														}

																														else = {
																															if = {
																																limit = { has_equipment = { light_tank_equipment > 150 } }
																																send_equipment = {
																																	target = GER
																																	type = light_tank_equipment
																																		amount = 50
																																}
																																else = {
																																	if = {
																																		limit = { has_equipment = { light_tank_equipment > 100 } }
																																		send_equipment = {
																																			target = GER
																																			type = light_tank_equipment
																																			amount = 25
																																		}
																																	}
																																}
																															}
																														}
																													}
																												}
																											}
																										}
																									}
																								}
																							}
																						}
																					}
																				}
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			if = { ### send rifles (minus 200) to germany the rest will be used in the armistice army.
				limit = { has_equipment = { motorized_equipment > 3000 } }
				send_equipment = {
					target = GER
					type = motorized_equipment
					amount = 2800
				}
				else = {
					if = {
						limit = { has_equipment = { motorized_equipment > 2800 } }
						send_equipment = {
							target = GER
							type = motorized_equipment
							amount = 2600
						}

						else = {
							if = {
								limit = { has_equipment = { motorized_equipment > 2600 } }
								send_equipment = {
									target = GER
									type = motorized_equipment
									amount = 2400
								}


								else = {
									if = {
										limit = { has_equipment = { motorized_equipment > 2400 } }
										send_equipment = {
											target = GER
											type = motorized_equipment
											amount = 2200
										}

										else = {
											if = {
												limit = { has_equipment = { motorized_equipment > 2200 } }
												send_equipment = {
													target = GER
													type = motorized_equipment
													amount = 2000
												}

												else = {
													if = {
														limit = { has_equipment = { motorized_equipment > 2000 } }
														send_equipment = {
															target = GER
															type = motorized_equipment
															amount = 1800
														}

														else = {
															if = {
																limit = { has_equipment = { motorized_equipment > 1800 } }
																send_equipment = {
																	target = GER
																	type = motorized_equipment
																	amount = 1600
																}

																else = {
																	if = {
																		limit = { has_equipment = { motorized_equipment > 1600 } }
																		send_equipment = {
																			target = GER
																			type = motorized_equipment
																			amount = 1400
																		}

																		else = {
																			if = {
																				limit = { has_equipment = { motorized_equipment > 1400 } }
																				send_equipment = {
																					target = GER
																					type = motorized_equipment
																					amount = 1200
																				}

																				else = {
																					if = {
																						limit = { has_equipment = { motorized_equipment > 1200 } }
																						send_equipment = {
																							target = GER
																							type = motorized_equipment
																							amount = 1000
																						}

																						else = {
																							if = {
																								limit = { has_equipment = { motorized_equipment > 1000 } }
																								send_equipment = {
																									target = GER
																									type = motorized_equipment
																									amount = 800
																								}

																								else = {
																									if = {
																										limit = { has_equipment = { motorized_equipment > 800 } }
																										send_equipment = {
																											target = GER
																											type = motorized_equipment
																											amount = 600
																										}

																										else = {
																											if = {
																												limit = { has_equipment = { motorized_equipment > 600 } }
																												send_equipment = {
																													target = GER
																													type = motorized_equipment
																													amount = 400
																												}

																												else = {
																													if = {
																														limit = { has_equipment = { motorized_equipment > 400 } }
																														send_equipment = {
																															target = GER
																															type = motorized_equipment
																															amount = 200
																														}

																														else = {
																															if = {
																																limit = { has_equipment = { motorized_equipment > 150 } }
																																send_equipment = {
																																	target = GER
																																	type = motorized_equipment
																																		amount = 50
																																}
																																else = {
																																	if = {
																																		limit = { has_equipment = { motorized_equipment > 100 } }
																																		send_equipment = {
																																			target = GER
																																			type = motorized_equipment
																																			amount = 25
																																		}
																																	}
																																}
																															}
																														}
																													}
																												}
																											}
																										}
																									}
																								}
																							}
																						}
																					}
																				}
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			if = { ### send rifles (minus 200) to germany the rest will be used in the armistice army.
				limit = { has_equipment = { mechanized_equipment > 3000 } }
				send_equipment = {
					target = GER
					type = mechanized_equipment
					amount = 2800
				}
				else = {
					if = {
						limit = { has_equipment = { mechanized_equipment > 2800 } }
						send_equipment = {
							target = GER
							type = mechanized_equipment
							amount = 2600
						}

						else = {
							if = {
								limit = { has_equipment = { mechanized_equipment > 2600 } }
								send_equipment = {
									target = GER
									type = mechanized_equipment
									amount = 2400
								}


								else = {
									if = {
										limit = { has_equipment = { mechanized_equipment > 2400 } }
										send_equipment = {
											target = GER
											type = mechanized_equipment
											amount = 2200
										}

										else = {
											if = {
												limit = { has_equipment = { mechanized_equipment > 2200 } }
												send_equipment = {
													target = GER
													type = mechanized_equipment
													amount = 2000
												}

												else = {
													if = {
														limit = { has_equipment = { mechanized_equipment > 2000 } }
														send_equipment = {
															target = GER
															type = mechanized_equipment
															amount = 1800
														}

														else = {
															if = {
																limit = { has_equipment = { mechanized_equipment > 1800 } }
																send_equipment = {
																	target = GER
																	type = mechanized_equipment
																	amount = 1600
																}

																else = {
																	if = {
																		limit = { has_equipment = { mechanized_equipment > 1600 } }
																		send_equipment = {
																			target = GER
																			type = mechanized_equipment
																			amount = 1400
																		}

																		else = {
																			if = {
																				limit = { has_equipment = { mechanized_equipment > 1400 } }
																				send_equipment = {
																					target = GER
																					type = mechanized_equipment
																					amount = 1200
																				}

																				else = {
																					if = {
																						limit = { has_equipment = { mechanized_equipment > 1200 } }
																						send_equipment = {
																							target = GER
																							type = mechanized_equipment
																							amount = 1000
																						}

																						else = {
																							if = {
																								limit = { has_equipment = { mechanized_equipment > 1000 } }
																								send_equipment = {
																									target = GER
																									type = mechanized_equipment
																									amount = 800
																								}

																								else = {
																									if = {
																										limit = { has_equipment = { mechanized_equipment > 800 } }
																										send_equipment = {
																											target = GER
																											type = mechanized_equipment
																											amount = 600
																										}

																										else = {
																											if = {
																												limit = { has_equipment = { mechanized_equipment > 600 } }
																												send_equipment = {
																													target = GER
																													type = mechanized_equipment
																													amount = 400
																												}

																												else = {
																													if = {
																														limit = { has_equipment = { mechanized_equipment > 400 } }
																														send_equipment = {
																															target = GER
																															type = mechanized_equipment
																															amount = 200
																														}

																														else = {
																															if = {
																																limit = { has_equipment = { mechanized_equipment > 150 } }
																																send_equipment = {
																																	target = GER
																																	type = mechanized_equipment
																																		amount = 50
																																}
																																else = {
																																	if = {
																																		limit = { has_equipment = { mechanized_equipment > 100 } }
																																		send_equipment = {
																																			target = GER
																																			type = mechanized_equipment
																																			amount = 25
																																		}
																																	}
																																}
																															}
																														}
																													}
																												}
																											}
																										}
																									}
																								}
																							}
																						}
																					}
																				}
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			if = { ### send rifles (minus 200) to germany the rest will be used in the armistice army.
				limit = { has_equipment = { artillery_equipment > 3000 } }
				send_equipment = {
					target = GER
					type = artillery_equipment
					amount = 2800
				}
				else = {
					if = {
						limit = { has_equipment = { artillery_equipment > 2800 } }
						send_equipment = {
							target = GER
							type = artillery_equipment
							amount = 2600
						}

						else = {
							if = {
								limit = { has_equipment = { artillery_equipment > 2600 } }
								send_equipment = {
									target = GER
									type = artillery_equipment
									amount = 2400
								}


								else = {
									if = {
										limit = { has_equipment = { artillery_equipment > 2400 } }
										send_equipment = {
											target = GER
											type = artillery_equipment
											amount = 2200
										}

										else = {
											if = {
												limit = { has_equipment = { artillery_equipment > 2200 } }
												send_equipment = {
													target = GER
													type = artillery_equipment
													amount = 2000
												}

												else = {
													if = {
														limit = { has_equipment = { artillery_equipment > 2000 } }
														send_equipment = {
															target = GER
															type = artillery_equipment
															amount = 1800
														}

														else = {
															if = {
																limit = { has_equipment = { artillery_equipment > 1800 } }
																send_equipment = {
																	target = GER
																	type = artillery_equipment
																	amount = 1600
																}

																else = {
																	if = {
																		limit = { has_equipment = { artillery_equipment > 1600 } }
																		send_equipment = {
																			target = GER
																			type = artillery_equipment
																			amount = 1400
																		}

																		else = {
																			if = {
																				limit = { has_equipment = { artillery_equipment > 1400 } }
																				send_equipment = {
																					target = GER
																					type = artillery_equipment
																					amount = 1200
																				}

																				else = {
																					if = {
																						limit = { has_equipment = { artillery_equipment > 1200 } }
																						send_equipment = {
																							target = GER
																							type = artillery_equipment
																							amount = 1000
																						}

																						else = {
																							if = {
																								limit = { has_equipment = { artillery_equipment > 1000 } }
																								send_equipment = {
																									target = GER
																									type = artillery_equipment
																									amount = 800
																								}

																								else = {
																									if = {
																										limit = { has_equipment = { artillery_equipment > 800 } }
																										send_equipment = {
																											target = GER
																											type = artillery_equipment
																											amount = 600
																										}

																										else = {
																											if = {
																												limit = { has_equipment = { artillery_equipment > 600 } }
																												send_equipment = {
																													target = GER
																													type = artillery_equipment
																													amount = 400
																												}

																												else = {
																													if = {
																														limit = { has_equipment = { artillery_equipment > 400 } }
																														send_equipment = {
																															target = GER
																															type = artillery_equipment
																															amount = 200
																														}

																														else = {
																															if = {
																																limit = { has_equipment = { artillery_equipment > 150 } }
																																send_equipment = {
																																	target = GER
																																	type = artillery_equipment
																																		amount = 50
																																}
																																else = {
																																	if = {
																																		limit = { has_equipment = { artillery_equipment > 100 } }
																																		send_equipment = {
																																			target = GER
																																			type = artillery_equipment
																																			amount = 25
																																		}
																																	}
																																}
																															}
																														}
																													}
																												}
																											}
																										}
																									}
																								}
																							}
																						}
																					}
																				}
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			if = { ### send rifles (minus 200) to germany the rest will be used in the armistice army.
				limit = { has_equipment = { anti_air_equipment > 3000 } }
				send_equipment = {
					target = GER
					type = anti_air_equipment
					amount = 2800
				}
				else = {
					if = {
						limit = { has_equipment = { anti_air_equipment > 2800 } }
						send_equipment = {
							target = GER
							type = anti_air_equipment
							amount = 2600
						}

						else = {
							if = {
								limit = { has_equipment = { anti_air_equipment > 2600 } }
								send_equipment = {
									target = GER
									type = anti_air_equipment
									amount = 2400
								}


								else = {
									if = {
										limit = { has_equipment = { anti_air_equipment > 2400 } }
										send_equipment = {
											target = GER
											type = anti_air_equipment
											amount = 2200
										}

										else = {
											if = {
												limit = { has_equipment = { anti_air_equipment > 2200 } }
												send_equipment = {
													target = GER
													type = anti_air_equipment
													amount = 2000
												}

												else = {
													if = {
														limit = { has_equipment = { anti_air_equipment > 2000 } }
														send_equipment = {
															target = GER
															type = anti_air_equipment
															amount = 1800
														}

														else = {
															if = {
																limit = { has_equipment = { anti_air_equipment > 1800 } }
																send_equipment = {
																	target = GER
																	type = anti_air_equipment
																	amount = 1600
																}

																else = {
																	if = {
																		limit = { has_equipment = { anti_air_equipment > 1600 } }
																		send_equipment = {
																			target = GER
																			type = anti_air_equipment
																			amount = 1400
																		}

																		else = {
																			if = {
																				limit = { has_equipment = { anti_air_equipment > 1400 } }
																				send_equipment = {
																					target = GER
																					type = anti_air_equipment
																					amount = 1200
																				}

																				else = {
																					if = {
																						limit = { has_equipment = { anti_air_equipment > 1200 } }
																						send_equipment = {
																							target = GER
																							type = anti_air_equipment
																							amount = 1000
																						}

																						else = {
																							if = {
																								limit = { has_equipment = { anti_air_equipment > 1000 } }
																								send_equipment = {
																									target = GER
																									type = anti_air_equipment
																									amount = 800
																								}

																								else = {
																									if = {
																										limit = { has_equipment = { anti_air_equipment > 800 } }
																										send_equipment = {
																											target = GER
																											type = anti_air_equipment
																											amount = 600
																										}

																										else = {
																											if = {
																												limit = { has_equipment = { anti_air_equipment > 600 } }
																												send_equipment = {
																													target = GER
																													type = anti_air_equipment
																													amount = 400
																												}

																												else = {
																													if = {
																														limit = { has_equipment = { anti_air_equipment > 400 } }
																														send_equipment = {
																															target = GER
																															type = anti_air_equipment
																															amount = 200
																														}

																														else = {
																															if = {
																																limit = { has_equipment = { anti_air_equipment > 150 } }
																																send_equipment = {
																																	target = GER
																																	type = anti_air_equipment
																																		amount = 50
																																}
																																else = {
																																	if = {
																																		limit = { has_equipment = { anti_air_equipment > 100 } }
																																		send_equipment = {
																																			target = GER
																																			type = anti_air_equipment
																																			amount = 25
																																		}
																																	}
																																}
																															}
																														}
																													}
																												}
																											}
																										}
																									}
																								}
																							}
																						}
																					}
																				}
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			if = { ### send rifles (minus 200) to germany the rest will be used in the armistice army.
				limit = { has_equipment = { anti_tank_equipment > 3000 } }
				send_equipment = {
					target = GER
					type = anti_tank_equipment
					amount = 2800
				}
				else = {
					if = {
						limit = { has_equipment = { anti_tank_equipment > 2800 } }
						send_equipment = {
							target = GER
							type = anti_tank_equipment
							amount = 2600
						}

						else = {
							if = {
								limit = { has_equipment = { anti_tank_equipment > 2600 } }
								send_equipment = {
									target = GER
									type = anti_tank_equipment
									amount = 2400
								}


								else = {
									if = {
										limit = { has_equipment = { anti_tank_equipment > 2400 } }
										send_equipment = {
											target = GER
											type = anti_tank_equipment
											amount = 2200
										}

										else = {
											if = {
												limit = { has_equipment = { anti_tank_equipment > 2200 } }
												send_equipment = {
													target = GER
													type = anti_tank_equipment
													amount = 2000
												}

												else = {
													if = {
														limit = { has_equipment = { anti_tank_equipment > 2000 } }
														send_equipment = {
															target = GER
															type = anti_tank_equipment
															amount = 1800
														}

														else = {
															if = {
																limit = { has_equipment = { anti_tank_equipment > 1800 } }
																send_equipment = {
																	target = GER
																	type = anti_tank_equipment
																	amount = 1600
																}

																else = {
																	if = {
																		limit = { has_equipment = { anti_tank_equipment > 1600 } }
																		send_equipment = {
																			target = GER
																			type = anti_tank_equipment
																			amount = 1400
																		}

																		else = {
																			if = {
																				limit = { has_equipment = { anti_tank_equipment > 1400 } }
																				send_equipment = {
																					target = GER
																					type = anti_tank_equipment
																					amount = 1200
																				}

																				else = {
																					if = {
																						limit = { has_equipment = { anti_tank_equipment > 1200 } }
																						send_equipment = {
																							target = GER
																							type = anti_tank_equipment
																							amount = 1000
																						}

																						else = {
																							if = {
																								limit = { has_equipment = { anti_tank_equipment > 1000 } }
																								send_equipment = {
																									target = GER
																									type = anti_tank_equipment
																									amount = 800
																								}

																								else = {
																									if = {
																										limit = { has_equipment = { anti_tank_equipment > 800 } }
																										send_equipment = {
																											target = GER
																											type = anti_tank_equipment
																											amount = 600
																										}

																										else = {
																											if = {
																												limit = { has_equipment = { anti_tank_equipment > 600 } }
																												send_equipment = {
																													target = GER
																													type = anti_tank_equipment
																													amount = 400
																												}

																												else = {
																													if = {
																														limit = { has_equipment = { anti_tank_equipment > 400 } }
																														send_equipment = {
																															target = GER
																															type = anti_tank_equipment
																															amount = 200
																														}

																														else = {
																															if = {
																																limit = { has_equipment = { anti_tank_equipment > 150 } }
																																send_equipment = {
																																	target = GER
																																	type = anti_tank_equipment
																																		amount = 50
																																}
																																else = {
																																	if = {
																																		limit = { has_equipment = { anti_tank_equipment > 100 } }
																																		send_equipment = {
																																			target = GER
																																			type = anti_tank_equipment
																																			amount = 25
																																		}
																																	}
																																}
																															}
																														}
																													}
																												}
																											}
																										}
																									}
																								}
																							}
																						}
																					}
																				}
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			if = { ### send rifles (minus 200) to germany the rest will be used in the armistice army.
				limit = { has_equipment = { medium_tank_equipment > 3000 } }
				send_equipment = {
					target = GER
					type = medium_tank_equipment
					amount = 2800
				}
				else = {
					if = {
						limit = { has_equipment = { medium_tank_equipment > 2800 } }
						send_equipment = {
							target = GER
							type = medium_tank_equipment
							amount = 2600
						}

						else = {
							if = {
								limit = { has_equipment = { medium_tank_equipment > 2600 } }
								send_equipment = {
									target = GER
									type = medium_tank_equipment
									amount = 2400
								}


								else = {
									if = {
										limit = { has_equipment = { medium_tank_equipment > 2400 } }
										send_equipment = {
											target = GER
											type = medium_tank_equipment
											amount = 2200
										}

										else = {
											if = {
												limit = { has_equipment = { medium_tank_equipment > 2200 } }
												send_equipment = {
													target = GER
													type = medium_tank_equipment
													amount = 2000
												}

												else = {
													if = {
														limit = { has_equipment = { medium_tank_equipment > 2000 } }
														send_equipment = {
															target = GER
															type = medium_tank_equipment
															amount = 1800
														}

														else = {
															if = {
																limit = { has_equipment = { medium_tank_equipment > 1800 } }
																send_equipment = {
																	target = GER
																	type = medium_tank_equipment
																	amount = 1600
																}

																else = {
																	if = {
																		limit = { has_equipment = { medium_tank_equipment > 1600 } }
																		send_equipment = {
																			target = GER
																			type = medium_tank_equipment
																			amount = 1400
																		}

																		else = {
																			if = {
																				limit = { has_equipment = { medium_tank_equipment > 1400 } }
																				send_equipment = {
																					target = GER
																					type = medium_tank_equipment
																					amount = 1200
																				}

																				else = {
																					if = {
																						limit = { has_equipment = { medium_tank_equipment > 1200 } }
																						send_equipment = {
																							target = GER
																							type = medium_tank_equipment
																							amount = 1000
																						}

																						else = {
																							if = {
																								limit = { has_equipment = { medium_tank_equipment > 1000 } }
																								send_equipment = {
																									target = GER
																									type = medium_tank_equipment
																									amount = 800
																								}

																								else = {
																									if = {
																										limit = { has_equipment = { medium_tank_equipment > 800 } }
																										send_equipment = {
																											target = GER
																											type = medium_tank_equipment
																											amount = 600
																										}

																										else = {
																											if = {
																												limit = { has_equipment = { medium_tank_equipment > 600 } }
																												send_equipment = {
																													target = GER
																													type = medium_tank_equipment
																													amount = 400
																												}

																												else = {
																													if = {
																														limit = { has_equipment = { medium_tank_equipment > 400 } }
																														send_equipment = {
																															target = GER
																															type = medium_tank_equipment
																															amount = 200
																														}

																														else = {
																															if = {
																																limit = { has_equipment = { medium_tank_equipment > 150 } }
																																send_equipment = {
																																	target = GER
																																	type = medium_tank_equipment
																																		amount = 50
																																}
																																else = {
																																	if = {
																																		limit = { has_equipment = { medium_tank_equipment > 100 } }
																																		send_equipment = {
																																			target = GER
																																			type = medium_tank_equipment
																																			amount = 25
																																		}
																																	}
																																}
																															}
																														}
																													}
																												}
																											}
																										}
																									}
																								}
																							}
																						}
																					}
																				}
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			if = { ### send rifles (minus 200) to germany the rest will be used in the armistice army.
				limit = { has_equipment = { heavy_tank_equipment > 3000 } }
				send_equipment = { target = GER type = heavy_tank_equipment amount = 2800 }
			}
			else_if = {
				limit = { has_equipment = { heavy_tank_equipment > 2800 } }
				send_equipment = { target = GER type = heavy_tank_equipment amount = 2600 }
			}
			else_if = {
				limit = { has_equipment = { heavy_tank_equipment > 2600 } }
				send_equipment = { target = GER type = heavy_tank_equipment amount = 2400 }
			}
			else_if = {
				limit = { has_equipment = { heavy_tank_equipment > 2400 } }
				send_equipment = { target = GER type = heavy_tank_equipment amount = 2200 }
			}
			else_if = {
				limit = { has_equipment = { heavy_tank_equipment > 2200 } }
				send_equipment = { target = GER type = heavy_tank_equipment amount = 2000 }
			}
			else_if = {
				limit = { has_equipment = { heavy_tank_equipment > 2000 } }
				send_equipment = { target = GER type = heavy_tank_equipment amount = 1800 }
			}
			else_if = {
				limit = { has_equipment = { heavy_tank_equipment > 1800 } }
				send_equipment = { target = GER type = heavy_tank_equipment amount = 1600 }
			}
			else_if = {
				limit = { has_equipment = { heavy_tank_equipment > 1600 } }
				send_equipment = { target = GER type = heavy_tank_equipment amount = 1400 }
			}
			else_if = {
				limit = { has_equipment = { heavy_tank_equipment > 1400 } }
				send_equipment = { target = GER type = heavy_tank_equipment amount = 1200 }
			}
			else_if = {
				limit = { has_equipment = { heavy_tank_equipment > 1200 } }
				send_equipment = { target = GER type = heavy_tank_equipment amount = 1000 }
			}
			else_if = {
				limit = { has_equipment = { heavy_tank_equipment > 1000 } }
				send_equipment = { target = GER type = heavy_tank_equipment amount = 800 }
			}

			else_if = {
				limit = { has_equipment = { heavy_tank_equipment > 800 } }
				send_equipment = { target = GER type = heavy_tank_equipment amount = 600 }
			}

			else_if = {
				limit = { has_equipment = { heavy_tank_equipment > 600 } }
				send_equipment = { target = GER type = heavy_tank_equipment amount = 400 }
			}

			else_if = {
				limit = { has_equipment = { heavy_tank_equipment > 400 } }
				send_equipment = { target = GER type = heavy_tank_equipment amount = 200 }
			}

			else_if = {
				limit = { has_equipment = { heavy_tank_equipment > 150 } }
				send_equipment = { target = GER type = heavy_tank_equipment amount = 50 }
			}
			else_if = {
				limit = { has_equipment = { heavy_tank_equipment > 100 } }
				send_equipment = { target = GER type = heavy_tank_equipment amount = 25 }
			}
		}
		country_event = { hours = 6 id = news.34 }
		hidden_effect =  {
			FRA = { news_event = { id = france.20 days = 1 } }
		}
	}
}

# Germany refuses armistice! (France)
country_event = {
	id = france.15
	title = france.15.t
	desc = france.15.d
	picture = GFX_report_event_french_resistance_01

	is_triggered_only = yes

	option = {
		name = france.15.a
	}
}

#Capital captured by non french faction
country_event = {
	id = france.16
	title = france.16.t
	desc = france.16.d
	picture = GFX_report_event_french_resistance_02

	fire_only_once = yes

	trigger = {
		TAG = FRA
		16 = { controller = { NOT = { TAG = FRA } } }
		#16 = { is_owned_by = FRA }
	}

	mean_time_to_happen = {
		days = 4
	}

	option = {
		name = france.16.a
		remove_ideas = FRA_victors_of_wwi
		remove_ideas = FRA_disjointed_government
		remove_ideas = FRA_protected_by_the_maginot_line
	}
}

# Invitation to French Faction
country_event = {
	id = france.17
	title = france.17.t
	desc = france.17.d
	picture = GFX_report_event_worried_french

	is_triggered_only = yes

	option = {
		name = france.17.a
		ai_chance = { factor = 90 }
		FRA = {
			country_event = france.18
			add_to_faction = ROOT
		}
		add_ai_strategy = {
			type = alliance
			id = "FRA"
			value = 200
		}
	}

	option = {
		name = france.17.b
		ai_chance = { factor = 10 }
		FRA = { country_event = france.19 }
	}
}

# [Country] Accepts
country_event = {
	id = france.18
	title = france.18.t
	desc = france.18.d
	picture = GFX_report_event_soldiers_in_france

	is_triggered_only = yes

	option = {
		name = france.18.a
		effect_tooltip = {
			add_to_faction = FROM
		}
	}
}

# [Country] Refuses
country_event = {
	id = france.19
	title = france.19.t
	desc = france.19.d
	picture = GFX_report_event_finnish_letter

	is_triggered_only = yes

	option = {
		name = france.19.a
	}
}

# De Gaulle becomes leader
country_event = {
	id = france.20
	title = france.20.t
	desc = france.20.d
	picture = GFX_report_event_degaulle_churchill

	is_triggered_only = yes

	option = {
		custom_effect_tooltip = france.20.a_tt
		set_country_flag = france_de_gaulle
		hidden_effect =  {
			create_country_leader = {
				name = "Charles de Gaulle"
				desc = ""
				picture = Portrait_France_Charles_De_Gaulle.dds
				expire = "1965.1.1"
				ideology = conservatism
				traits = {
                                   nationalist_symbol exiled
				}
			}
		}
		name = france.20.a
	}
}

# British abandon yugoslavia
country_event = {
	id = france.25
	title = france.25.t
	desc = france.25.d
	picture = GFX_report_event_hitler_croatia_handshake

	is_triggered_only	= yes
	option = { # Follow Britain's lead
		name = france.25.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				is_in_faction_with = YUG
			}
		}
		if = {
			limit = {
				ITA = {
					OR = {
						NOT = { has_completed_focus = ITA_yugoslavia_friend }
						is_in_faction_with = GER
					}
				}
			}
			YUG = {
				add_opinion_modifier = { target = FRA modifier = western_betrayal }
				country_event = { id = yugoslavia.5 hours = 6 }
			}
		}
		if = {
			limit = {
				ITA = {
					has_completed_focus = ITA_yugoslavia_friend
					NOT = { is_in_faction_with = GER }
					NOT = { has_war_with = YUG }
				}
			}
			ITA = { country_event = { id = italy.12 } }
		}
	}
	option = { # Support the Yugoslavs alone
		name = france.25.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_in_faction_with = GER
			}
		}
		add_political_power = -200
		add_opinion_modifier = { target = GER modifier = condemn_aggression }
		YUG = {
			country_event = { id = yugoslavia.4 days = 1 }
			add_opinion_modifier = { target = FRA modifier = offered_support }
		}
		GER = {
			country_event = { id = germany.97 hours = 6 } #Generate wargoal
			effect_tooltip = {
				create_wargoal = {
					type = take_state_focus
					target = YUG
					generator = { 102 }
				}
			}
		}
		if = {
			limit = { is_in_faction_with = ENG }
			ENG = {
				country_event = { id = britain.15 hours = 6 }
				remove_from_faction = FRA
			}
		}
		if = {
			limit = { is_in_faction_with = GER }
			GER = {
				remove_from_faction = FRA
			}
		}
		if = {
			limit = {
				is_in_faction = yes
				is_faction_leader = yes
				NOT = { is_in_faction_with = ENG }
				NOT = { is_in_faction_with = GER }
			}
			add_to_faction = YUG
			YUG = {
				add_ai_strategy = {
					type = alliance
					id = "FRA"
					value = 200
				}
			}
		}
		if = {
			limit = {
				OR = {
					is_in_faction = no
					is_faction_leader = no
					is_in_faction_with = ENG
					is_in_faction_with = GER
				}
			}
			create_faction = "french_alliance"
			add_to_faction = YUG
			YUG = {
				add_ai_strategy = {
					type = alliance
					id = "FRA"
					value = 200
				}
			}
		}
		if = {
			limit = { NOT = { has_completed_focus = FRA_little_entente } }
			add_stability = 0.05
		}
	}
}

# British support yugoslavia
country_event = {
	id = france.26
	title = france.26.t
	desc = france.26.d
	picture = GFX_report_event_hitler_croatia_handshake

	is_triggered_only	= yes

	option = {
		name = france.26.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				is_in_faction_with = GER
			}
		}
		if = {
			limit = {
				is_in_faction = yes
				NOT = { is_in_faction_with = ENG }
			}
			remove_from_faction = FRA
		}
		if = {
			limit = { NOT = { is_in_faction_with = ENG } }
			ENG = { add_to_faction = FRA }
			FRA = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"
					value = 200
				}
			}
		}
		add_opinion_modifier = { target = GER modifier = condemn_aggression }
		YUG = {
			country_event = { id = yugoslavia.3 days = 1 }
			add_opinion_modifier = { target = FRA modifier = offered_support }
		}
		GER = {
			country_event = { id = germany.93 hours = 6 } #Generate wargoal
			effect_tooltip = {
				create_wargoal = {
					type = take_state_focus
					target = YUG
					generator = { 102 }
				}
			}
		}
	}

	#Abandon
	option = {
		name = france.26.b
		trigger = { NOT = { is_in_faction_with = ENG } }
		ai_chance = { factor = 10 }
		set_global_flag = FRA_abandoned_yugoslavia
		YUG = {
			country_event = { id = yugoslavia.3 hours = 6 }
			add_opinion_modifier = { target = FRA modifier = western_betrayal }
		}
	}
}

# Vichy France: Germany is handing over some of our land
country_event = {
	id = france.27
	title = france.27.t
	desc = {
		text = france.27.d_1_state
		trigger = {
			OR = {
				NOT = { has_global_flag = ITA_claims_on_france_735 }
				has_global_flag = ITA_claims_on_france_1
			}
			OR = {
				has_global_flag = ITA_claims_on_france_735
				NOT = { has_global_flag = ITA_claims_on_france_1 }
			}
		}
	}
	desc = {
		text = france.27.d_both
		trigger = {
			has_global_flag = ITA_claims_on_france_735
			has_global_flag = ITA_claims_on_france_1
		}
	}
	picture = GFX_report_event_worried_french

	is_triggered_only	= yes

	option = {
		name = france.27.a

		effect_tooltip = {
			if = {
				limit = { has_global_flag = ITA_claims_on_france_735 }
				ITA = { transfer_state = 735 }
			}
			if = {
				limit = { has_global_flag = ITA_claims_on_france_1 }
				ITA = { transfer_state = 1 }
			}
		}

		#Italy always get Tunisia
		if = {
					limit = { ROOT = { owns_state = 458 } }
					ITA = { transfer_state = 458 }
		}
		if = {
					limit = { ROOT = { owns_state = 665 } }
					ITA = { transfer_state = 665 }
		}


		if = {
			limit = {
				has_global_flag = ITA_claims_on_france_735
				has_global_flag = ITA_claims_on_france_1
				OR = {
					owns_state = 554
					owns_state = 677
					owns_state = 680
				}

			}
			random_other_country = {
				limit = {
					OR = {
					original_tag = FRA
						original_tag = EFR
					}
					has_government = democratic
				}
				if = {
					limit = { ROOT = { owns_state = 554 } }
					transfer_state = 554
				}
				if = {
					limit = { ROOT = { owns_state = 677 } }
					transfer_state = 677
				}
				if = {
					limit = { ROOT = { owns_state = 680 } }
					transfer_state = 680
				}
				country_event = france.28
			}
		}
	}
}

# France - Syria defects to us
country_event = {
	id = france.28
	title = france.28.t
	desc = france.28.d
	picture = GFX_report_event_worried_french

	is_triggered_only	= yes

	option = {
		name = france.28.a
	}

}

# France - Britain accepts Ally request
country_event = {
	id = france.29
	title = france.29.t
	desc = france.29.d
	picture = GFX_report_event_sign_treaty2

	is_triggered_only	= yes

	option = {
		name = france.29.a
	}
}

# France - Britain denies Ally request
country_event = {
	id = france.30
	title = france.30.t
	desc = france.30.d
	picture = GFX_report_event_chamberlain

	is_triggered_only	= yes

	option = {
		name = france.30.a
	}
}
